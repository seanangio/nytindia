<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Query India-tagged articles from the New York Times Article Search API — nyt_get_data • nytindia</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Query India-tagged articles from the New York Times Article Search API — nyt_get_data" />
<meta property="og:description" content="To query data, call nyt_get_data() in the top level folder
of a new RStudio project. If no beginning and end dates
are provided, it uses 1855 or the most recent date in the folder
as the beginning and today as the end date. You need
environmental variables called&quot;NYTIMES_KEY&quot; for your API key
and &quot;NYT_USER_AGENT&quot; for a user agent." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nytindia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/technical-details.html">Technical Details</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Query India-tagged articles from the New York Times Article Search API</h1>
    
    <div class="hidden name"><code>nyt_get_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>To query data, call <code>nyt_get_data()</code> in the top level folder
of a new RStudio project. If no beginning and end dates
are provided, it uses 1855 or the most recent date in the folder
as the beginning and today as the end date. You need
environmental variables called"NYTIMES_KEY" for your API key
and "NYT_USER_AGENT" for a user agent.</p>
    </div>

    <pre class="usage"><span class='fu'>nyt_get_data</span><span class='op'>(</span>begin_date <span class='op'>=</span> <span class='cn'>NULL</span>, end_date <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>nyt_set_query_params</span><span class='op'>(</span>
  q <span class='op'>=</span> <span class='st'>""</span>,
  fq <span class='op'>=</span> <span class='cn'>NULL</span>,
  sort_order <span class='op'>=</span> <span class='st'>"oldest"</span>,
  api_key <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span><span class='op'>(</span><span class='st'>"NYTIMES_KEY"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>nyt_set_time_chunks</span><span class='op'>(</span>
  begin_date <span class='op'>=</span> <span class='cn'>NULL</span>,
  end_date <span class='op'>=</span> <span class='cn'>NULL</span>,
  api_data_folder <span class='op'>=</span> <span class='st'>"api_data"</span>
<span class='op'>)</span>

<span class='fu'>nyt_query_api</span><span class='op'>(</span>
  <span class='va'>query_params</span>,
  <span class='va'>time_chunks</span>,
  nyt_api_url <span class='op'>=</span> <span class='cn'>NULL</span>,
  nyt_user_agent <span class='op'>=</span> <span class='cn'>NULL</span>,
  api_data_folder <span class='op'>=</span> <span class='st'>"api_data"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>begin_date</th>
      <td><p>character vector in YYYY-MM-DD format</p></td>
    </tr>
    <tr>
      <th>end_date</th>
      <td><p>character vector in YYYY-MM-DD format; must be greater than begin_date</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>any other arguments (e.g. if changing the query params)</p></td>
    </tr>
    <tr>
      <th>q</th>
      <td><p>empty by default</p></td>
    </tr>
    <tr>
      <th>fq</th>
      <td><p>NYT articles with an India glocation tag</p></td>
    </tr>
    <tr>
      <th>sort_order</th>
      <td><p>set to oldest; alternative is newest</p></td>
    </tr>
    <tr>
      <th>api_key</th>
      <td><p>"NYTIMES_KEY" environmental variable for API key</p></td>
    </tr>
    <tr>
      <th>api_data_folder</th>
      <td><p>name of folder where to write api data</p></td>
    </tr>
    <tr>
      <th>query_params</th>
      <td><p>list output from <code>nyt_set_query_params()</code></p></td>
    </tr>
    <tr>
      <th>time_chunks</th>
      <td><p>Date vector output from <code>nyt_set_time_chunks()</code></p></td>
    </tr>
    <tr>
      <th>nyt_api_url</th>
      <td><p>NULL unless querying another api</p></td>
    </tr>
    <tr>
      <th>nyt_user_agent</th>
      <td><p>"NYT_USER_AGENT" environmental variable</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>nyt_set_query_params()</code> returns a list of parameters for the query</p>
<p><code>nyt_set_query_params()</code> returns a Date vector</p>
<p><code>nyt_query_api()</code> writes monthly rds files to api_data_folder</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>nyt_get_data()</code> first calls <code>nyt_set_query_params()</code>. No
arguments are required unless using a different query.</p>
<p>It then calls <code>nyt_set_time_chunks()</code>. It inherits the
dates from <code>nyt_get_data()</code>.</p>
<p><code>nyt_get_data()</code> feeds the output of <code>nyt_set_query_params()</code>
and <code>nyt_set_time_chunks()</code> to <code>nyt_query_api()</code>, which
writes API data to a folder called "api_data" in monthly increments
stored as rds files.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># from 1855 (if api_data folder) or last found file to today</span>
<span class='fu'>nyt_get_data</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># from 2010 to today</span>
<span class='fu'>nyt_get_data</span><span class='op'>(</span>begin_date <span class='op'>=</span> <span class='st'>"2010-01-01"</span><span class='op'>)</span>

<span class='co'># from 2010 to 2012</span>
<span class='fu'>nyt_get_data</span><span class='op'>(</span>begin_date <span class='op'>=</span> <span class='st'>"2010-01-01"</span>, end_date <span class='op'>=</span> <span class='st'>"2012-01-01"</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sean Angiolillo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


