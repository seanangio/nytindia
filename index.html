<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prepare and visualize India-tagged data from the NYT Article Search API • nytindia</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Prepare and visualize India-tagged data from the NYT Article Search API">
<meta property="og:description" content="This package includes functions to query the 
    Article Search API of The New York Times for articles with 
    an India location keyword. It includes functions to prepare 
    this data to be ready for analysis and visualization. 
    It includes a shiny app to interact with the output datasets. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">nytindia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/technical-details.html">Technical Details</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="nytindia---prepare-and-visualize-india-tagged-data-from-the-nyt-article-search-api" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#nytindia---prepare-and-visualize-india-tagged-data-from-the-nyt-article-search-api" class="anchor"></a>nytindia - Prepare and visualize India-tagged data from the NYT Article Search API</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>This package includes functions to query the <a href="https://developer.nytimes.com/docs/articlesearch-product/1/overview">Article Search API of The New York Times</a> for articles with an “India” location keyword. It includes functions to prepare this data to be ready for analysis and visualization, as well as a shiny app to interact with the output dataset.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The impetus to re-structure what was originally a data analysis project as a package was:</p>
<ul>
<li>to simplify updating the dataset over time</li>
<li>to learn how to make a package.</li>
</ul>
<p>Accordingly, this is mostly an internal package, but it can be installed from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"seanangio/nytindia"</span><span class="op">)</span></code></pre></div>
</div>
<div id="query-data" class="section level2">
<h2 class="hasAnchor">
<a href="#query-data" class="anchor"></a>Query Data</h2>
<p>To query all articles with an India location keyword from the NYT Article Search API between two dates, run the following in the top level folder of a new RStudio project.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://seanangio.github.io/nytindia">nytindia</a></span><span class="op">)</span>
<span class="fu"><a href="reference/nyt_get_data.html">nyt_get_data</a></span><span class="op">(</span>begin_date <span class="op">=</span> <span class="st">"YYYY-MM-DD"</span>, 
             end_date <span class="op">=</span> <span class="st">"YYYY-MM-DD"</span><span class="op">)</span></code></pre></div>
<p>You’ll need environmental variables called “NYTIMES_KEY” and “NYT_USER_AGENT”.</p>
<p>Leaving <code>begin_date</code> empty will default to 1855 (the earliest available date). Leaving <code>end_date</code> empty will default to the current date.</p>
<p>It queries up to the closest completed month.</p>
</div>
<div id="prepare-data" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-data" class="anchor"></a>Prepare Data</h2>
<p>Once you have your data from the API, there is a pipeline of functions available to prepare the data. The first time through preparing the data, there are a few steps that require a pause in the pipeline:</p>
<ul>
<li>renaming news desks</li>
<li>renaming keyword values</li>
<li>renaming categories of keywords</li>
<li>geocoding locations</li>
</ul>
<p>These are optional, but your map will be empty and the keywords and news desk categories may be overlapping depending on the expanse of time you are querying.</p>
<p>Once you have these steps complete and just want to update the dataset with more recent data, you can just run:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/nyt_build_data.html">nyt_build_data</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>The final dataset you need will be in your <code>nyt_shiny_app</code> folder.</p>
</div>
<div id="run-the-shiny-app" class="section level2">
<h2 class="hasAnchor">
<a href="#run-the-shiny-app" class="anchor"></a>Run the Shiny App</h2>
<p>The package includes the shiny app below to visualize the results in many ways.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/nyt_run_example.html">nyt_run_example</a></span><span class="op">(</span><span class="st">"nyt_india_app"</span><span class="op">)</span></code></pre></div>
</div>
<div id="analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis" class="anchor"></a>Analysis</h2>
<p>You can find package vignettes <a href="">analyzing the data</a> and summarizing the <a href="https://seanangio.github.io/nytindia/articles/technical-details.html">technical details</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Sean Angiolillo <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/YOUR-ORCID-ID" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Sean Angiolillo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
